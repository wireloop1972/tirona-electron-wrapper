appId: com.tirona.electronwrapper
productName: Tirona
copyright: Copyright Â© 2025

directories:
  output: release
  buildResources: assets

files:
  - dist/**/*
  - config.json
  - package.json
  - src/splash.html
  - assets/**/*

# Exclude unnecessary files from the build
extraFiles:
  - config.json

# Include TTS server binary
# Chatterbox is bundled as a standalone executable with all dependencies
#
# Chatterbox (bundled Python server):
#   Build: cd chatterbox-tts-api && pyinstaller chatterbox_server.spec --clean -y
#   Copy: chatterbox-tts-api/dist/chatterbox_server -> tts-binaries/chatterbox_server
#
extraResources:
  # Chatterbox TTS engine
  - from: tts-binaries/chatterbox_server
    to: chatterbox
    filter:
      - "**/*"

# Windows configuration
win:
  target:
    - target: dir
      arch:
        - x64
  icon: assets/icon.ico

nsis:
  oneClick: false
  allowToChangeInstallationDirectory: true
  createDesktopShortcut: true
  createStartMenuShortcut: true
  shortcutName: ${productName}

# macOS configuration
mac:
  target:
    - target: dmg
      arch:
        - x64
        - arm64
  icon: assets/icon.icns
  category: public.app-category.productivity
  hardenedRuntime: true
  gatekeeperAssess: false
  entitlements: null
  entitlementsInherit: null

dmg:
  title: ${productName} ${version}
  icon: assets/icon.icns
  background: null
  contents:
    - x: 130
      y: 220
    - x: 410
      y: 220
      type: link
      path: /Applications

# Compression and publishing
compression: normal

# GitHub Releases configuration
publish:
  - provider: github
    owner: wireloop1972
    repo: tirona-electron-wrapper
    releaseType: release
    private: false

